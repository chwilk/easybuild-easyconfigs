# Author:: Jack Perdue <j-perdue@tamu.edu> - TAMU HPRC - http://sc.tamu.edu

easyblock = 'ConfigureMake'

name = 'SHTns'
fullversion = '2.6.2-r516'
version = '%s' % fullversion[0:5]
versionsuffix = '-mt'

homepage = 'https://bitbucket.org/nschaeff/shtns'
description = """SHTns is a high performance library for Spherical Harmonic
Transform written in C, aimed at numerical simulation (fluid flows, mhd,
...) in spherical geometries."""

toolchain = {'name': 'ictce', 'version': '7.1.2'}
toolchainopts = {'pic': True, 'opt': True, 'optarch': True, 'openmp': True}

source_urls = [('https://bitbucket.org/nschaeff/%s/downloads' % name)]
sources = ['%s-%s.tar.gz' % (name.lower(), fullversion)]

configopts = '--enable-mkl'
buildopts = ''

sanity_check_paths = {
    'dirs': ['include', 'lib'],
    'files': ['include/shtns.f', 'include/shtns.h', 'lib/libshtns.a'],
}

moduleclass = 'phys'
